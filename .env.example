# .env.example
# ===== PROJECT CONFIGURATION =====
# Copy this file to .env and adjust the values

# ===== PROJECT SETTINGS =====
PROJECT_NAME=myproject
PROJECT_PREFIX=mp
COMPOSE_PROJECT_NAME=${PROJECT_NAME}

# ===== DJANGO =====
DJANGO_ENVIRONMENT=development
DEBUG=True
SECRET_KEY=django-insecure-change-me-in-production-with-very-long-random-key
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,backend
DJANGO_LOG_LEVEL=INFO

# ===== DATABASE =====
POSTGRES_DB=${PROJECT_PREFIX}_db
POSTGRES_USER=${PROJECT_PREFIX}_user
POSTGRES_PASSWORD=${PROJECT_PREFIX}_secure_password_123
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ===== REDIS & CELERY =====
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CACHE_KEY_PREFIX=${PROJECT_PREFIX}

# ===== CORS =====
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080
FRONTEND_URL=http://localhost:3000

# ===== DOCKER PORTS =====
BUILD_TARGET=development
BACKEND_PORT=8000
FRONTEND_PORT=3000
FLOWER_PORT=5555
PGADMIN_PORT=5050
HTTP_PORT=80
HTTPS_PORT=443

# ===== FLOWER (Celery Monitoring) =====
FLOWER_USER=admin
FLOWER_PASSWORD=admin123

# ===== PGADMIN =====
PGADMIN_DEFAULT_EMAIL=admin@${PROJECT_NAME}.com
PGADMIN_DEFAULT_PASSWORD=admin123

# ===== EMAIL (optional) =====
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=noreply@${PROJECT_NAME}.com

# ===== SENTRY (optional - for production) =====
# SENTRY_DSN=https://your-sentry-dsn-here

# ===== PRODUCTION (uncomment and adjust for prod) =====
# DEBUG=False
# SECRET_KEY=production-secret-key-very-long-and-random
# ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ===== JWT AUTHENTICATION =====
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True
JWT_UPDATE_LAST_LOGIN=True
JWT_ALGORITHM=HS256

# ===== API RATE LIMITING =====
API_THROTTLE_RATE_ANON=100/hour
API_THROTTLE_RATE_USER=1000/hour
AUTH_THROTTLE_RATE=5/minute
LOGIN_THROTTLE_RATE=5/minute

# ===== DJANGO SUPERUSER (auto-created in dev) =====
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@${PROJECT_NAME}.com
DJANGO_SUPERUSER_PASSWORD=admin123

# ===== CELERY CONFIGURATION =====
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_CONCURRENCY=4

# ===== FRONTEND ENVIRONMENT =====
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_SITE_NAME=${PROJECT_NAME}
NEXT_PUBLIC_SITE_DESCRIPTION="A fullstack application with Django and Next.js"